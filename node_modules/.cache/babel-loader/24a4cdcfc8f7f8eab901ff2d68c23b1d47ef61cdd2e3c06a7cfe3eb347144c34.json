{"ast":null,"code":"import React,{useContext,useEffect,useRef,useState}from'react';import noteContext from\"../context/notes/noteContext\";import NoteItem from'./NoteItem';import AddNote from'./AddNote';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Notes(){const context=useContext(noteContext);let navigate=useNavigate();const{notes,getNotes,editNote}=context;useEffect(()=>{if(localStorage.getItem('token')){getNotes();}else{navigate(\"/login\");}// eslint-disable-next-line\n},[getNotes]);const ref=useRef(null);const refclose=useRef(null);const[note,setNote]=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"});const updateNote=currentNote=>{ref.current.click();setNote({id:currentNote._id,etitle:currentNote.title||\"\",// Ensure defined value or fallback to empty string\nedescription:currentNote.description||\"\",// Ensure defined value or fallback to empty string\netag:currentNote.tag||\"\"// Ensure defined value or fallback to empty string\n});};const handleClick=()=>{// console.log(\"updating the note\", note);\neditNote(note.id,note.etitle,note.edescription,note.etag);ref.current.click();};const onchange=e=>{setNote({...note,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddNote,{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary d-none\",ref:ref,\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"modal-title fs-5\",id:\"exampleModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etitle\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"etitle\",id:\"etitle\",minLength:2,required:true,value:note.etitle,onChange:onchange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edescription\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",minLength:2,required:true,value:note.edescription,onChange:onchange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",minLength:2,required:true,value:note.etag,onChange:onchange})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refclose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:note.etitle.length<2||note.edescription.length<2||note.etag.length<2,onClick:handleClick,type:\"button\",className:\"btn btn-primary\",children:\"Update Note\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Note\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:notes.length===0&&'No notes added'}),notes.map(note=>{return/*#__PURE__*/_jsx(NoteItem,{updateNote:updateNote,note:note},note._id);})]})})]});}export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","noteContext","NoteItem","AddNote","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Notes","context","navigate","notes","getNotes","editNote","localStorage","getItem","ref","refclose","note","setNote","id","etitle","edescription","etag","updateNote","currentNote","current","click","_id","title","description","tag","handleClick","onchange","e","target","name","value","children","type","className","tabIndex","htmlFor","minLength","required","onChange","disabled","length","onClick","map"],"sources":["D:/coding/Projects/MERN stack inotebook project/inotebook/src/components/Notes.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport noteContext from \"../context/notes/noteContext\";\r\nimport NoteItem from './NoteItem';\r\nimport AddNote from './AddNote';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Notes() {\r\n    const context = useContext(noteContext);\r\n    let navigate = useNavigate();\r\n    const { notes, getNotes, editNote } = context;\r\n\r\n    useEffect(() => {\r\n        if(localStorage.getItem('token')){\r\n            getNotes()\r\n        }\r\n        else{\r\n            navigate(\"/login\")\r\n            \r\n        }\r\n        // eslint-disable-next-line\r\n    }, [getNotes]);\r\n\r\n    const ref = useRef(null);\r\n    const refclose = useRef(null);\r\n\r\n    const [note, setNote] = useState({ id: \"\", etitle: \"\", edescription: \"\", etag: \"\" });\r\n\r\n    const updateNote = (currentNote) => {\r\n        ref.current.click();\r\n        setNote({\r\n            id: currentNote._id,\r\n            etitle: currentNote.title || \"\", // Ensure defined value or fallback to empty string\r\n            edescription: currentNote.description || \"\", // Ensure defined value or fallback to empty string\r\n            etag: currentNote.tag || \"\" // Ensure defined value or fallback to empty string\r\n        });\r\n    }\r\n\r\n    const handleClick = () => {\r\n        // console.log(\"updating the note\", note);\r\n        editNote(note.id, note.etitle, note.edescription, note.etag);\r\n        ref.current.click();\r\n    }\r\n\r\n    const onchange = (e) => {\r\n        setNote({ ...note, [e.target.name]: e.target.value });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <AddNote />\r\n            <button type=\"button\" className=\"btn btn-primary d-none\" ref={ref} data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                Launch demo modal\r\n            </button>\r\n            <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h1 className=\"modal-title fs-5\" id=\"exampleModalLabel\">Edit Note</h1>\r\n                            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            <form className='my-3'>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"etitle\" className=\"form-label\">Title</label>\r\n                                    <input type=\"text\" className=\"form-control\" name=\"etitle\" id=\"etitle\" minLength={2} required value={note.etitle} onChange={onchange} />\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"edescription\" className=\"form-label\">Description</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"edescription\" name=\"edescription\" minLength={2} required value={note.edescription} onChange={onchange} />\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"etag\" className=\"form-label\">Tag</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"etag\" name=\"etag\" minLength={2} required  value={note.etag} onChange={onchange} />\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <button ref={refclose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                            <button disabled={note.etitle.length<2 || note.edescription.length<2 || note.etag.length<2} onClick={handleClick} type=\"button\" className=\"btn btn-primary\">Update Note</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='container'>\r\n                <div className=\"row\">\r\n                    <h2>Your Note</h2>\r\n                    <div className=\"container\">\r\n                    {notes.length===0 && 'No notes added'}\r\n                    </div>\r\n                    {notes.map((note) => {\r\n                    return <NoteItem key={note._id} updateNote={updateNote} note={note} />\r\n                })}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Notes;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}